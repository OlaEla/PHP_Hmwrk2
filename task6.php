<!--Написать функцию, которая вычисляет текущее время и возвращает
его в формате с правильными склонениями, например:
22 часа 15 минут
21 час 43 минуты. -->

<!--0 часов	минут	10 часов минут 20 часов минут	30 минут  40 минут
1 час	минута	11 часов минут 21 час	минута	31 минута 41 минута
2 часа	минуты	12 часов минут 22 часа	минуты	32 минуты 42 минуты
3 часа	минуты	13 часов минут 23 часа	минуты	33 минуты 43 минуты
4 часа	минуты	14 часов минут 24 часа	минуты	34 минуты 44 минуты
5 часов	минут	15 часов минут 25		минут	35 минут  45 минут
6 часов	минут	16 часов минут 26		минут	36 минут  46 минут
7 часов минут	17 часов минут 27		минут	37 минут  47 минут
8 часов	минут	18 часов минут 28		минут	38 минут  48 минут
9 часов минут	19 часов минут 29		минут	39 минут  49 минут-->


<?php

// Установим часовой пояс (например, Москва)
date_default_timezone_set('Europe/Moscow');

// Функция для определения правильного склонения для "час"
function getHourDeclension($hours) {
    // Проверяем последние две цифры для чисел 11-19, они всегда используют "часов"
    if ($hours % 100 >= 11 && $hours % 100 <= 19) {
        return "часов";
    }
    // В остальных случаях ориентируемся на последнюю цифру
    switch ($hours % 10) {
        case 1:
            return "час";
        case 2:
        case 3:
        case 4:
            return "часа";
        default:
            return "часов";
    }
}

// Функция для определения правильного склонения для "минута"
function getMinuteDeclension($minutes) {
    // Проверяем последние две цифры для чисел 11-19, они всегда используют "минут"
    if ($minutes % 100 >= 11 && $minutes % 100 <= 19) {
        return "минут";
    }
    // В остальных случаях ориентируемся на последнюю цифру
    switch ($minutes % 10) {
        case 1:
            return "минута";
        case 2:
        case 3:
        case 4:
            return "минуты";
        default:
            return "минут";
    }
}

// Основная функция, возвращающая текущее время с правильными склонениями
function getCurrentTimeWithDeclensions() {
    // Устанавливаем часовой пояс (например, Москва)
    date_default_timezone_set('Europe/Moscow');

    // Получаем текущее время
    $hours = date("G"); // Часы без ведущего нуля (24-часовой формат)
    $minutes = date("i"); // Минуты с ведущим нулем (например, "03" или "30")

    // Определяем правильные формы для часов и минут
    $hourDeclension = getHourDeclension($hours);
    $minuteDeclension = getMinuteDeclension($minutes);

    // Формируем строку с правильным временем
    return $hours . " " . $hourDeclension . " " . (int)$minutes . " " . $minuteDeclension;
}

// Пример использования функции
echo getCurrentTimeWithDeclensions();
?>



